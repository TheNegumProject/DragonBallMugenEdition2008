;===========================================================================
;-| Data |------------------------------------------------------------------

;---------------------------------------------------------------------------
[data]
life 			= 1000
attack 		= 100
defence 		= 100
power			= 5000
fall.defence_up 	= 50
liedown.time 	= 40
airjuggle 		= 15
sparkno 		= s9010
guard.sparkno 	= -1
ko.echo 		= 0
volume 		= 255
intpersistindex 	= 60
floatpersistindex = 40

[size]
xscale 		= 1
yscale 		= 1
ground.back 	= 20
ground.front 	= 20
air.back 		= 20
air.front 		= 20
height 		= 60
attack.dist 	= 160
proj.attack.dist 	= 90
proj.doscale 	= 0
head.pos 		= 12,-70
mid.pos 		= 0,-50
shadowoffset 	= 0
draw.offset 	= 0,0

[velocity]
walk.fwd  		= 1.9
walk.back 		= -1.5
run.fwd  		= 8.5,0
run.back 		= -8.1,0
jump.neu 		= 0,-8.5
jump.back 		= -3.5
jump.fwd 		= 3.7
runjump.back 	= -2.0,-8
runjump.fwd 	= 4,-8
airjump.neu 	= 0,-8
airjump.back 	= -2.0.-8
airjump.fwd 	= 2.0,-8

[movement]
airjump.num 	= 0
airjump.height 	= 35
yaccel 		= .45
stand.friction 	= .85
crouch.friction 	= .82

;===========================================================================
;-| intro/win/lose |--------------------------------------------------------

;---------------------------------------------------------------------------
;lose state
[statedef 170]
type 			= s
movetype		= i
physics		= s
anim			= 170
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[state 170: 	assertspecial] 
type 			= assertspecial
trigger1 		= (time < 120)
flag 			= roundnotover

[state 170: 	nothotby]
type 			= nothitby
trigger1 		= 1
value 		= sca
time 			= 1

;---------------------------------------------------------------------------
;win state Decider
[statedef 180]
type 			= s
movetype		= i
physics		= s
;anim			= 180
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[state 180: 	assertspecial] 
type 			= assertspecial
trigger1 		= 1
flag 			= roundnotover

[state 180: 	nothotby]
type 			= nothitby
trigger1 		= 1
value 		= sca
time 			= 1

[state 180:		changestate]
type			= changestate
trigger1		= (time)
value			= 181

;---------------------------------------------------------------------------
;win001
[statedef 181]
type 			= s
movetype		= i
physics		= s
anim			= 181
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[state 7030:	playsnd]
type			= playsnd
trigger1		= (time = 5)
value			= s5,3

[state 181: 	assertspecial] 
type 			= assertspecial
trigger1 		= (time < 200)
flag 			= roundnotover

[state 181: 	nothotby]
type 			= nothitby
trigger1 		= 1
value 		= sca
time 			= 1

;---------------------------------------------------------------------------
;preintro
[statedef 190]
type 			= s
movetype		= i
physics		= n
;anim			= 190
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[state 190:		assertspecial]
type			= assertspecial
trigger1		= 1
flag			= invisible
flag2			= nobardisplay
flag3			= nomusic

[state 190: 	changeanim]
type 			= changeanim
trigger1 		= (selfanimexist(190))
value 		= 190

[state 190: 	changestate] 
type 			= changestate
trigger1		= (!time)
value 		= 191

;---------------------------------------------------------------------------
; intro(1)
[statedef 191]
type = s
movetype = i
physics = n
anim = 192
sprpriority = 1
velset = 0,0
ctrl = 0

[state 7030:	playsnd]
type			= playsnd
trigger1		= (time = 30)
value			= s1,14
channel		= 1

[state 193, assertspecial]
type = assertspecial
trigger1 = time = [0,250]
flag = intro

[state 193, posset]
type = posset
trigger1 = !time
y = -200

[state 193, posadd]
type = posadd
trigger1 = time > 30 && pos y < 0
y = 2

[state 193, changeanim]
type = changeanim
trigger1 = anim = 192 && !pos y
value = 193

[state 193, playsnd]
type = playsnd
trigger1 = animelem = 1 && anim != 192
value = s1,6

[state 193, playsnd]
type = playsnd
trigger1 = animelem = 3 && anim != 192
value = s5,0

[state 193, changeanim]
type = changestate
trigger1 = anim = 193 && (time > 250)
value = 0

;===========================================================================
;-| basic |-----------------------------------------------------------------

;---------------------------------------------------------------------------
;stand weak punch
[statedef 200]
type 			= s
movetype		= a
physics		= s
anim			= 200
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 1
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[state 200:		playsnd]
type			= playsnd
trigger1		= (animelem = 2)
value			= s2,7

[state 200:		hitdef]
type			= hitdef
trigger1		= (animelem = 2, = 0)
attr			= s, na
hitflag		= maf
guarDFlag		= m
animtype		= light
air.animtype	= back
priority		= 5, hit
damage		= 30
pausetime		= 10,12
guard.pausetime	= 10,12
sparkno		= s9010
guard.sparkno	= -1
sparkxy		= 0,-50
hitsound		= s2,9
guardsound		= s0,9
ground.type		= high
air.type		= low
ground.slidetime	= 10
ground.hittime	= 10
air.hittime		= 10
yaccel		= 0.45
ground.velocity	= -4.5
guard.velocity	= -4.5
air.velocity	= -4.5,-4.7
airguard.velocity	= -4.5,-4.7
ground.cornerpush.veloff = -4.5
air.cornerpush.veloff = -6
id			= 200
getpower		= 0
givepower		= 20

[state 200:		changestate]
type			= changestate
trigger1		= (!animtime)
value			= 0
ctrl			= 1

;---------------------------------------------------------------------------
;stand strong punch
[statedef 210]
type 			= s
movetype		= a
physics		= s
anim			= 210
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 4
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[state 210:		playsnd]
type			= playsnd
trigger1		= (animelem = 2)
value			= s2,5

[state 210:		hitdef]
type			= hitdef
trigger1		= (animelem = 2, = 0)
attr			= s, na
hitflag		= maf
guarDFlag		= m
animtype		= hard
air.animtype	= back
priority		= 5, hit
damage		= 52
pausetime		= 12,12
guard.pausetime	= 12,12
sparkno		= s9010
guard.sparkno	= -1
sparkxy		= 10,-55
hitsound		= s2,3
guardsound		= s0,9
ground.type		= high
air.type		= low
ground.slidetime	= 15
ground.hittime	= 15
air.hittime		= 15
yaccel		= 0.45
ground.velocity	= -8
guard.velocity	= -8
air.velocity	= -6,-4.7
airguard.velocity	= -6,-4.7
ground.cornerpush.veloff = -8
id			= 210
getpower		= 0
givepower		= 40

[state 210:		changestate]
type			= changestate
trigger1		= (!animtime)
value			= 0
ctrl			= 1

;---------------------------------------------------------------------------
;stand weak kick
[statedef 220]
type 			= s
movetype		= a
physics		= s
anim			= 220
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 3
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[state 220:		playsnd]
type			= playsnd
trigger1		= (animelem = 2)
value			= s2,7

[state 220:		hitdef]
type			= hitdef
trigger1		= (animelem = 2, = 0)
attr			= s, na
hitflag		= m
guarDFlag		= l
animtype		= light
air.animtype	= back
priority		= 5, hit
damage		= 26
pausetime		= 10,12
guard.pausetime	= 10,12
sparkno		= s9010
guard.sparkno	= -1
sparkxy		= 10,-40
hitsound		= s2,8
guardsound		= s0,9
ground.type		= low
air.type		= low
ground.slidetime	= 10
ground.hittime	= 10
air.hittime		= 10
yaccel		= 0.45
ground.velocity	= -4.5
guard.velocity	= -4.5
air.velocity	= -4.5,-4.7
airguard.velocity	= -4.5,-4.7
ground.cornerpush.veloff = -4.5
air.cornerpush.veloff = -6
id			= 220
getpower		= 0
givepower		= 20

[state 220:		changestate]
type			= changestate
trigger1		= (!animtime)
value			= 0
ctrl			= 1

;---------------------------------------------------------------------------
;stand strong kick
[statedef 230]
type 			= s
movetype		= a
physics		= s
anim			= 230
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 5
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[state 230:		playsnd]
type			= playsnd
trigger1		= (animelem = 2)
value			= s2,5

[state 230:		hitdef]
type			= hitdef
trigger1		= (animelem = 2, = 0)
attr			= s, na
hitflag		= maf
guarDFlag		= m
animtype		= hard
air.animtype	= back
priority		= 5, hit
damage		= 52
pausetime		= 12,12
guard.pausetime	= 12,12
sparkno		= s9010
guard.sparkno	= -1
sparkxy		= 0,-65
hitsound		= s2,0
guardsound		= s0,9
ground.type		= high
air.type		= trip
ground.slidetime	= 15
ground.hittime	= 15
air.hittime		= 15
yaccel		= 0.45
ground.velocity	= -8
guard.velocity	= -8
air.velocity	= -5.5,-5.7
airguard.velocity	= -5.5,-5.7
ground.cornerpush.veloff = -8
air.fall		= 1
id			= 230
getpower		= 0
givepower		= 40

[state 230:		changestate]
type			= changestate
trigger1		= (!animtime)
value			= 0
ctrl			= 1

;---------------------------------------------------------------------------
;crouch weak punch
[statedef 400]
type 			= c
movetype		= a
physics		= c
anim			= 400
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 2
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[state 410:		playsnd]
type			= playsnd
trigger1		= (animelem = 2)
value			= s2,7

[state 400:		hitdef]
type			= hitdef
trigger1		= (animelem = 2, = 0)
attr			= c, na
hitflag		= maf
guarDFlag		= m
animtype		= light
air.animtype	= back
priority		= 5, hit
damage		= 26
pausetime		= 11,11
guard.pausetime	= 11,11
sparkno		= s9010
guard.sparkno	= -1
sparkxy		= 10,-30
hitsound		= s2,9
guardsound		= s0,9
ground.type		= low
air.type		= low
ground.slidetime	= 10
ground.hittime	= 10
air.hittime		= 10
yaccel		= 0.45
ground.velocity	= -4.5
guard.velocity	= -4.5
air.velocity	= -4.5,-4.7
airguard.velocity	= -4.5,-4.7
ground.cornerpush.veloff = -4.5
air.cornerpush.veloff = -6
id			= 400
getpower		= 0
givepower		= 20

[state 410:		changestate]
type			= changestate
trigger1		= (!animtime)
value			= 11

;---------------------------------------------------------------------------
;crouch strong punch
[statedef 410]
type 			= c
movetype		= a
physics		= c
anim			= 410
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 4
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[state 410:		playsnd]
type			= playsnd
trigger1		= (animelem = 2)
value			= s2,5

[state 410:		hitdef]
type			= hitdef
trigger1		= (animelem = 2, = 0)
attr			= c, na
hitflag		= maf
guarDFlag		= m
animtype		= hard
air.animtype	= back
priority		= 5, hit
damage		= 52
pausetime		= 12,12
guard.pausetime	= 12,12
sparkno		= s9010
guard.sparkno	= -1
sparkxy		= 10,-30
hitsound		= s2,3
guardsound		= s0,9
ground.type		= low
air.type		= low
ground.slidetime	= 15
ground.hittime	= 15
air.hittime		= 15
yaccel		= 0.45
ground.velocity	= -8
guard.velocity	= -8
air.velocity	= -6,-4.7
airguard.velocity	= -6,-4.7
ground.cornerpush.veloff = -8
id			= 410
getpower		= 0
givepower		= 40

[state 410:		changestate]
type			= changestate
trigger1		= (!animtime)
value			= 11

;---------------------------------------------------------------------------
;crouch weak kick
[statedef 420]
type 			= c
movetype		= a
physics		= c
anim			= 420
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 3
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[state 420:		playsnd]
type			= playsnd
trigger1		= (animelem = 2)
value			= s2,7

[state 420:		hitdef]
type			= hitdef
trigger1		= (animelem = 2, = 0)
attr			= c, na
hitflag		= m
guarDFlag		= l
animtype		= light
air.animtype	= back
priority		= 5, hit
damage		= 26
pausetime		= 11,11
guard.pausetime	= 11,11
sparkno		= s9010
guard.sparkno	= -1
sparkxy		= 10,-20
hitsound		= s2,8
guardsound		= s0,9
ground.type		= low
air.type		= low
ground.slidetime	= 10
ground.hittime	= 10
air.hittime		= 10
yaccel		= 0.45
ground.velocity	= -4.5
guard.velocity	= -4.5
air.velocity	= -4.5,-4.7
airguard.velocity	= -4.5,-4.7
ground.cornerpush.veloff = -4.5
air.cornerpush.veloff = -6
id			= 420
getpower		= 0
givepower		= 20

[state 420:		changestate]
type			= changestate
trigger1		= (!animtime)
value			= 11

;---------------------------------------------------------------------------
;crouch strong kick
[statedef 430]
type 			= c
movetype		= a
physics		= c
anim			= 430
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 5
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[state 430:		playsnd]
type			= playsnd
trigger1		= (animelem = 2)
value			= s2,5

[state 460:		hitdef]
type			= hitdef
trigger1		= (animelem = 2)
attr			= c, na
hitflag		= ma
guarDFlag		= l
animtype		= hard
air.animtype	= back
priority		= 5, hit
damage		= 78
pausetime		= 12,12
guard.pausetime	= 12,12
sparkno		= s9010
guard.sparkno	= -1
sparkxy		= 10,-20
hitsound		= s2,0
guardsound		= s0,9
ground.type		= trip
air.type		= trip
ground.slidetime	= 15
ground.hittime	= 15
air.hittime		= 15
yaccel		= 0.45
ground.velocity	= -1.5,-3
guard.velocity	= -1.5
air.velocity	= -1.5,-3
airguard.velocity	= -1.5,-3
ground.cornerpush.veloff = -1.5
id			= 460
getpower		= 0
givepower		= 60
persistent		= 0

[state 430:		changestate]
type			= changestate
trigger1		= (!animtime)
value			= 11

;---------------------------------------------------------------------------
;jump weak punch
[statedef 600]
type 			= a
movetype		= a
physics		= a
anim			= 600
;velset		= 0,0
ctrl			= 0
poweradd		= 20
juggle		= 2
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[state 600:		playsnd]
type			= playsnd
trigger1		= (animelem = 2)
value			= s2,7

[state 600:		hitdef]
type			= hitdef
trigger1		= (animelem = 2, = 0)
attr			= a, na
hitflag		= maf
guarDFlag		= ha
animtype		= light
air.animtype	= back
priority		= 5, hit
damage		= 26
pausetime		= 11,11
guard.pausetime	= 11,11
sparkno		= s9010
guard.sparkno	= -1
sparkxy		= -5,-10
hitsound		= s2,9
guardsound		= s0,9
ground.type		= low
air.type		= low
ground.slidetime	= 10
ground.hittime	= 10
air.hittime		= 10
yaccel		= 0.45
ground.velocity	= -3
guard.velocity	= -3
air.velocity	= -4,-5
airguard.velocity	= -4,-1
ground.cornerpush.veloff = -1
id			= 600
getpower		= 0
givepower		= 20

;---------------------------------------------------------------------------
;jump strong punch
[statedef 610]
type 			= a
movetype		= a
physics		= a
anim			= 610
;velset		= 0,0
ctrl			= 0
poweradd		= 40
juggle		= 4
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[state 610:		playsnd]
type			= playsnd
trigger1		= (animelem = 2)
value			= s2,5

[state 610:		hitdef]
type			= hitdef
trigger1		= (animelem = 2, = 0)
attr			= a, na
hitflag		= maf
guarDFlag		= ha
animtype		= hard
air.animtype	= back
priority		= 5, hit
damage		= 52
pausetime		= 12,12
guard.pausetime	= 12,12
sparkno		= s9010
guard.sparkno	= -1
sparkxy		= -5,-10
hitsound		= s2,3
guardsound		= s0,9
ground.type		= low
air.type		= low
ground.slidetime	= 15
ground.hittime	= 15
air.hittime		= 15
yaccel		= 0.45
ground.velocity	= -3
guard.velocity	= -3
air.velocity	= -4.5,-5
airguard.velocity	= -4.5,-1
ground.cornerpush.veloff = -3
id			= 610
getpower		= 0
givepower		= 40

;---------------------------------------------------------------------------
;jump weak kick
[statedef 620]
type 			= a
movetype		= a
physics		= a
anim			= 620
;velset		= 0,0
ctrl			= 0
poweradd		= 20
juggle		= 3
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[state 620:		playsnd]
type			= playsnd
trigger1		= (animelem = 2)
value			= s2,7

[state 620:		hitdef]
type			= hitdef
trigger1		= (animelem = 2, = 0)
attr			= a, na
hitflag		= maf
guarDFlag		= ha
animtype		= light
air.animtype	= back
priority		= 5, hit
damage		= 26
pausetime		= 11,11
guard.pausetime	= 11,11
sparkno		= s9010
guard.sparkno	= -1
sparkxy		= -5,-10
hitsound		= s2,8
guardsound		= s0,9
ground.type		= low
air.type		= low
ground.slidetime	= 10
ground.hittime	= 10
air.hittime		= 10
yaccel		= 0.45
ground.velocity	= -3
guard.velocity	= -3
air.velocity	= -4,-5
airguard.velocity	= -4,-1
ground.cornerpush.veloff = -1
id			= 620
getpower		= 0
givepower		= 20

;---------------------------------------------------------------------------
;jump strong kick
[statedef 630]
type 			= a
movetype		= a
physics		= a
anim			= 630
;velset		= 0,0
ctrl			= 0
poweradd		= 40
juggle		= 5
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[state 630:		playsnd]
type			= playsnd
trigger1		= (animelem = 2)
value			= s2,5

[state 630:		hitdef]
type			= hitdef
trigger1		= (animelem = 2, = 0)
attr			= a, na
hitflag		= maf
guarDFlag		= ha
animtype		= hard
air.animtype	= back
priority		= 5, hit
damage		= 52
pausetime		= 12,12
guard.pausetime	= 12,12
sparkno		= s9010
guard.sparkno	= -1
sparkxy		= -5,-10
hitsound		= s2,0
guardsound		= s0,9
ground.type		= low
air.type		= low
ground.slidetime	= 15
ground.hittime	= 15
air.hittime		= 15
yaccel		= 0.45
ground.velocity	= -3
guard.velocity	= -3
air.velocity	= -4.5,-5
airguard.velocity	= -4.5,-1
ground.cornerpush.veloff = -3
id			= 630
getpower		= 0
givepower		= 40

;---------------------------------------------------------------------------
;kikou ha
[statedef 700]
type 			= s
movetype		= a
physics		= s
;anim			= 700
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[state 700:		changeanim]
type			= changeanim
trigger1		= (!time)
value			= 700
elem			= ifelse(prevstateno = 700,2,1)

[state 700:		velset]
type			= velset
trigger1		= (!time)
y			= 0

[state 700: 	poweradd]
type 			= poweradd
trigger1 		= (animelem = 2)
value 		= -140

[state 700: 	playsnd]
type 			= playsnd
trigger1 		= (animelem = 2)
value 			= s1,1
volume			= 255

[state 700: 	playsnd]
type 			= playsnd
trigger1		= (animelem = 2)
value 			= s1,4

[state 700:		bgpalfx]
type			= bgpalfx
trigger1		= (projhit9070 = 1)
time			= 5
add			= 75,75,75
mul			= 256,256,256
sinadd		= 80,80,80,4
invertall		= 0
color			= 256

[state 700:		helper]
type			= helper
trigger1		= (animelem = 2) && (power > 50)
helpertype		= normal
name			= "kikou ha"
id			= 9070
pos			= 41,-57
postype		= p1
facing		= 1
stateno		= 9070
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0

[state 700:		projectile]
type			= projectile
trigger1		= (animelem = 2) && (power > 50)
projid		= 700
projanim		= 9070
projhitanim		= 9030
projremanim		= 9030
projcancelanim	= 9030
projscale		= 1,1
projremove		= 1
projremovetime	= 200
velocity		= 10,(ifelse(command = "holdup",-6.666666,(ifelse(command = "holddown",6.666666,0))))
remvelocity		= 0,0
accel			= 0,0
velmul		= 1.1,1.1
projhits		= 1
projmisstime	= 0
projpriority	= 100
projsprpriority	= 3
projedgebound	= 1000
projstagebound	= 1000
projheightbound	= -1000,1
offset		= 41,-57
postype		= p1
projshadow		= 0,0,0
supermovetime	= 0
pausemovetime	= 0
;------------------
attr			= s, np
hitflag		= mafdp
guarDFlag		= ma
animtype		= hard
priority		= 7, hit
damage		= 50,25
pausetime		= 12,12
sparkno		= -1
guard.sparkno	= -1
sparkxy		= 5,-8
hitsound		= s0,5
guardsound		= s0,9
ground.type		= low
air.type		= trip
ground.slidetime	= 20
ground.hittime	= 20
air.hittime		= 15
ground.velocity	= -4
guard.velocity	= -4
air.velocity	= -4,-3
airguard.velocity	= -4,-3
ground.cornerpush.veloff = 0
fall.xvelocity	= -1
fall.yvelocity	= -3
fall.recover	= 0
air.fall		= 1
down.velocity	= -1,-2
down.bounce		= 1
guard.kill		= 0
getpower		= 0
givepower		= 35
palfx.time		= 25
palfx.mul		= 256,256,256
palfx.add		= 200,50,10
palfx.sinadd 	= 175,25,5,4
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4

[state 700:		changestate]
type			= changestate
trigger1		= (!animtime)
value			= ifelse(power > 25,0,5300)
ctrl			= 1

;---------------------------------------------------------------------------
;throw001
[statedef 800]
type 			= s
movetype		= a
physics		= s
anim			= 800
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[state 800:		playsnd]
type			= playsnd
trigger1		= (animelem = 1)
value			= s2,7

[state 800:		hitdef]
type			= hitdef
trigger1		= (animelem = 2)
attr			= s, nt
hitflag		= -m
priority		= 1, miss
sparkno		= -1
guard.dist		= 0
snap			= 40,0
p2facing		= 1
p1stateno		= 805
p2stateno		= 806
forcestand		= 1
fall			= 1
id			= 800
getpower		= 50
givepower		= 50

[state 800:		changestate]
type			= changestate
trigger1		= (!animtime)
value			= 0
ctrl			= 1

;---------------------------------------------------------------------------
;throw001: success
[statedef 805]
type 			= s
movetype		= a
physics		= s
anim			= 805
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[state 805:		nothitby]
type			= nothitby
trigger1		= (animelem = 3, < 6)
value			= sca

[state 805:		playerpush]
type			= playerpush
trigger1		= 1
value			= 0

[state 805:		sprpriority]
type			= sprpriority
trigger1		= (animelem = 2)
value			= -1

[state 805:		playsnd]
type			= playsnd
trigger1		= (animelem = 3)
value			= s0,7

[state 805:		targetbind]
type			= targetbind
trigger1		= (animelem = 1, > 0) && (animelem = 2, < 0)
time			= 1
id			= -1
pos			= 20,0

[state 805:		targetbind]
type			= targetbind
trigger1		= (animelem = 2, > 0) && (animelem = 2, < 5)
time			= 1
id			= -1
pos			= 10,0

[state 805:		targetbind]
type			= targetbind
trigger1		= (animelem = 2, > 5) && (animelem = 3, < 0)
time			= 1
id			= -1
pos			= -20,-30

[state 805:		targetbind]
type			= targetbind
trigger1		= (animelem = 3, > 0) && (animelem = 3, < 4)
time			= 1
id			= -1
pos			= -35,-50

[state 805:		targetbind]
type			= targetbind
trigger1		= (animelem = 3, = 4)
time			= 1
id			= -1
pos			= -50,-60

[state 805:		targetvelset]
type			= targetvelset
trigger1		= (animelem = 3, = 5)
id			= -1
x			= -3
y			= -7

[state 805:		targetlifeadd]
type			= targetlifeadd
trigger1		= (animelem = 3, = 5)
value			= -80
id			= -1
kill			= 1

[state 805:		changestate]
type			= changestate
trigger1		= (!animtime)
value			= 0
ctrl			= 1

;---------------------------------------------------------------------------
;throw001: opponent
[statedef 806]
type 			= a
movetype		= h
physics		= n
;anim			= 806
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 1

[state 806:		changeanim2]
type			= changeanim2
trigger1		= (!time)
value			= 806

[state 806:		changeanim]
type			= changeanim
trigger1		= (!animtime) && (anim = 806)
value			= 5070

[state 806:		turn]
type			= turn
trigger1		= (anim = 5070)
persistent		= 0

[state 806:		veladd]
type			= veladd
trigger1		= (anim = 5070)
y			= 0.45

[state 806:		selfstate]
type			= selfstate
trigger1		= (pos y >= -10) && (anim = 5070)
value			= 5100

;===========================================================================
;-| misc |------------------------------------------------------------------

;---------------------------------------------------------------------------
;short jump
[statedef 7000]
type 			= a
movetype		= i
physics		= a
;anim			= 7000
;velset		= 0,0
ctrl			= 1
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[state 7000: 	changeanim]
type 			= changeanim
trigger1 		= !time
value 		= ifelse((vel x) = 0, 41, ifelse((vel x) > 0, 42, 43))

[state 7000: 	velset]
type 			= velset
trigger1 		= !time
x 			= ifelse(vel x = 0,0,ifelse(vel x < 0,-3.1,3.4))
y 			= -6.5

[state 7000: 	velset]
type 			= velset
trigger1 		= (!time) && (var(0))
x 			= ifelse(vel x = 0,0,ifelse(vel x < 0,-5,5))

[state 7000: 	afterimage]
type 			= afterimage
trigger1 		= ((!time) && (vel x != 0)) && (var(0))
time 			= 15
timegap		= 1
framegap 		= 2
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add

[state 7000: 	changestate]
type 			= changestate
trigger1 		= (pos y >= 0) && (vel y > 0)
value 		= 52

;---------------------------------------------------------------------------
;evade Forward
[statedef 7010]
type 			= s
movetype		= i
physics		= n
;anim			= 7010
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[state 7010:	changeanim]
type			= changeanim
trigger1		= (!time)
value			= 7010
elem			= ifelse(prevstateno = 100,2,1)

[state 7010:	turn]
type			= turn
trigger1		= (p2bodydist x < 0) && (!animtime)

[state 7010:	sprpriority]
type			= sprpriority
trigger1		= (animelem = 2, > 0)
value			= -2

[state 7010: 	playerpush]
type 			= playerpush
trigger1		= (animelem = 2, > 0)
value 		= 0

[state 7010: 	nothitby]
type 			= nothitby
trigger1 		= (!time)
value 		= sca
time 			= ifelse(prevstateno = 100,10,17)

[state 7010:	makedust]
type			= makedust
trigger1 		= (animelem = 2, > 0)
pos 			= -5, 0
spacing 		= 4

[state 7010: 	velset]
type 			= velset
trigger1 		= (animelem = 2)
x 			= 8.5

[state 7010: 	velset]
type 			= velset
trigger1 		= (animelem = 3)
x 			= 1

[state 7010: 	playsnd]
type 			= playsnd
trigger1 		= (animelem = 2)
value 		= s1,1
channel		= 0

[state 7010: 	afterimage]
type 			= afterimage
trigger1 		= (animelem = 2)
time 			= 10
timegap		= 4
framegap 		= 4
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 100,100,100
trans 		= add

[state 7010: 	changestate]
type 			= changestate
trigger1 		= (!animtime)
value 			= 0
ctrl			= 1

;---------------------------------------------------------------------------
;evade backward
[statedef 7020]
type 			= s
movetype		= i
physics		= n
;anim			= 7020
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[state 7020:	changeanim]
type			= changeanim
trigger1		= (!time)
value			= 7020
elem			= ifelse(prevstateno = 105,2,1)

[state 7020:	sprpriority]
type			= sprpriority
trigger1		= (animelem = 2, > 0)
value			= -2

[state 7020: 	playerpush]
type 			= playerpush
trigger1		= (animelem = 2, > 0)
value 		= 0

[state 7020: 	nothitby]
type 			= nothitby
trigger1 		= (!time)
value 		= sca
time 			= ifelse(prevstateno = 105,10,17)

[state 7020:	makedust]
type			= makedust
trigger1 		= (animelem = 2, > 0)
pos 			= 5, 0
spacing 		= 4

[state 7020: 	velset]
type 			= velset
trigger1 		= (animelem = 2)
x 			= -8.5

[state 7020: 	velset]
type 			= velset
trigger1 		= (animelem = 3)
x 			= -1

[state 7020: 	playsnd]
type 			= playsnd
trigger1 		= (animelem = 2)
value 		= s1,1
channel		= 0

[state 7020: 	afterimage]
type 			= afterimage
trigger1 		= (animelem = 2)
time 			= 10
timegap		= 4
framegap 		= 4
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 100,100,100
trans 		= add

[state 7020: 	changestate]
type 			= changestate
trigger1 		= (!animtime)
value 			= 0
ctrl			= 1

;---------------------------------------------------------------------------
;ki charge
[statedef 7030]
type 			= s
movetype		= i
physics		= s
anim			= 7030
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[state 8000:	varrandom]
type			= varrandom
trigger1		= 1
v			= 13
range			= 0,2

[state 8000:	poweradd]
type			= poweradd
trigger1		= (time > 9)
value			= 12

[state 7030:	playsnd]
type			= playsnd
trigger1		= (animelem = 2)
value			= s1,0
channel		= 0

[state 7030:	playsnd]
type			= playsnd
trigger1		= (animelem = 2)
value			= s3,1
channel		= 1

[state 7030:	playsnd]
type			= playsnd
trigger1		= (time > 13) && ((gametime%50) = 0)
value			= s1,5
channel		= 2

[state 7030:	playsnd]
type			= playsnd
trigger1		= (time > 13) && ((gametime%9) = 0)
value			= s0,8
lowpriority		= 1
channel		= 3

[state 7030:	playsnd]
type			= playsnd
trigger1		= (time > 13) && ((gametime%70) = 0)
value			= s0,4
lowpriority		= 1
channel		= 4

[state 8000:	explod]
type			= explod
trigger1		= (time = 9)
anim			= 9020
id			= 9020
pos			= 20,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[state 8000:	explod]
type			= explod
trigger1		= (time = 9)
anim			= 9020
id			= 9020
pos			= -20,0
postype		= p1
facing		= -1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[state 8000:	explod]
type			= explod
trigger1		= (time = 9)
anim			= 9050
id			= 9050
pos			= 0,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -1
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.85,0.85
sprpriority		= 0
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[state 8000:	explod]
type			= null;explod
trigger1		= (time > 9) && ((gametime%20) = 0) && (numexplod(9290) = 0)
anim			= ifelse(var(13) = 0,9290,ifelse(var(13) = 1,9300,ifelse(var(13) = 2,9330,9330)))
id			= 9290
pos			= 0,-15
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.85,0.85
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[state 8000:	helper]
type			= helper
trigger1		= (!time)
helpertype		= normal
name			= "flame effect"
id			= 9001
pos			= 0,0
postype		= p1
facing		= 0
stateno		= 9001
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale		= 0.75
size.yscale		= 0.75

[state 8000:	changestate]
type			= changestate
trigger1		= ((command != "holdx") || (command != "holda")) && (var(2) <= 0)
value			= 7035

;---------------------------------------------------------------------------
;ki charge: end
[statedef 7035]
type 			= s
movetype		= i
physics		= s
anim			= 7035
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[state 8001:	velset]
type			= velset
trigger1		= (!time)
y			= 0

[state 8001:	stopsnd]
type			= stopsnd
trigger1		= (!time)
channel		= 0

[state 8001:	stopsnd]
type			= stopsnd
trigger1		= (!time)
channel		= 1

[state 8001:	stopsnd]
type			= stopsnd
trigger1		= (!animtime)
channel		= 2

[state 8001:	removeexplod]
type			= removeexplod
trigger1		= (!time)
id			= 9050

[state 8001:	changestate]
type			= changestate
trigger1		= (!animtime)
value			= 0
ctrl			= 1

;===========================================================================
;-| effects |---------------------------------------------------------------

;---------------------------------------------------------------------------
;flame1: red
[statedef 9001]
type 			= s
movetype		= i
physics		= n
anim			= 9001
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3

[state 9010:	assertspecial]
type			= assertspecial
trigger1		= 1
flag			= noshadow
flag2			= invisible

[state 9010:	bindtoparent]
type			= bindtoparent
trigger1		= 1
time			= 1
pos			= var(3),var(4)

[state 9010:	null]
type			= null
trigger1		= (!time)
trigger1		= (var(0) := 125) && (var(2) := (parent, stateno)) && (var(3) := ceil(parentdist x)) && (var(4) := ceil(parentdist y))
trigger2		= (var(0) = 125) || (var(0) = 175)
trigger2		= (var(1) := ifelse(var(0) = 125,0,1))
trigger3		= (var(0) = 175)
trigger3		= (var(1) := 1)

[state 9010:	varadd]
type			= varadd
trigger1		= 1
var(0)		= ifelse(var(1) = 0,1,-1)

[state 9010: 	afterimage]
type 			= afterimage
trigger1 		= 1
time 			= 5
framegap 		= 1
length 		= 2
paladd 		= 50, 50, 50
palmul 		= .50, .50, .50
palcontrast 	= var(0), var(0), var(0)
trans 		= add

[state 9010:	destroyself]
type			= Destroyself
trigger1		= (parent, stateno != var(2))

;---------------------------------------------------------------------------
;hitspark: orange
;[statedef 9010]

;---------------------------------------------------------------------------
;dust
;[statedef 9020]

;---------------------------------------------------------------------------
;small explosion
[statedef 9030]
type 			= s
movetype		= i
physics		= n
anim			= 9030
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3

[state 9030:	nothitby]
type			= nothitby
trigger1		= 1
value			= sca

[state 9030:	destroyself]
type			= Destroyself
trigger1		= (!animtime)

;---------------------------------------------------------------------------
;ki blast effect
[statedef 9040]
type 			= s
movetype		= i
physics		= n
anim			= 9040
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 1

[state 9040:	assertspecial]
type			= assertspecial
trigger1		= 1
flag			= noshadow
flag2			= invisible

[state 9040:	varset]
type			= varset
trigger1		= (!time)
var(0)		= 200

[state 9040:	varadd]
type			= varadd
trigger1		= 1
var(0)		= -2

[state 9040:	afterimage]
type 			= afterimage
trigger1 		= 1
time 			= 5
framegap 		= 1
length 		= 2
paladd 		= 120, 120, 120
palmul 		= .50, .50, .50
palcontrast 	= var(0), var(0), var(0)
trans 		= add

[state 9040:	destroyself]
type			= Destroyself
trigger1		= (!animtime)

;---------------------------------------------------------------------------
;shockwave
;[statedef 9050]

;---------------------------------------------------------------------------
;ki barrier
[statedef 9060]
type 			= a
movetype		= a
physics		= n
;anim			= 9060
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[state 9060:	changeanim]
type			= changeanim
trigger1		= (!time) && (anim != 9060)
value			= 9060

[state 9060:	assertspecial]
type			= assertspecial
trigger1		= 1
flag			= noshadow
flag2			= invisible

[state 9060:	bindtoparent]
type			= bindtoparent
trigger1		= 1
time			= 1
pos			= -5,-55

[state 9060:	hitby]
type			= hitby
trigger1		= 1
value			= , np, sp, hp
ignorehitpause	= 1

[state 9060:	hitoverride]
type			= hitoverride
trigger1		= 1
attr			= , np, sp, hp
slot			= 0
stateno		= 9060
ignorehitpause	= 1

[state 9060:	varset]
type			= varset
trigger1		= (!time)
var(0)		= 100

[state 9060:	varadd]
type			= varadd
trigger1		= 1
var(0)		= -1

[state 9060:	parentvarset]
type			= parentvarset
trigger1		= (movecontact) && ((enemynear, backedgebodydist < 10) || (enemynear, Frontedgebodydist < 10))
var(4)		= 1
ignorehitpause	= 1

[state 9060:	afterimage]
type 			= afterimage
trigger1 		= 1
time 			= 5
framegap 		= 1
length 		= 2
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= var(0), var(0), var(0)
trans 		= add

[state 9060:	hitdef]
type			= hitdef
trigger1		= (!movecontact) && (parent, stateno = 1200)
attr			= s, sp
hitflag		= mafdp
guarDFlag		= m
animtype		= low
air.animtype	= Diagup
priority		= 7, hit
damage		= 70,35
pausetime		= 10,12
guard.pausetime	= 10,12
sparkno		= s9010
guard.sparkno	= -1
sparkxy		= 10,0
hitsound		= s0,9
guardsound		= s0,9
ground.type		= trip
air.type		= trip
ground.slidetime	= 38
ground.hittime	= 38
air.hittime		= 12
ground.velocity	= (ifelse(p2dist x > 0,-1.5,1.5)),-8.5
guard.velocity	= (ifelse(p2dist x > 0,-4,4))
air.velocity	= (ifelse(p2dist x > 0,-1.5,1.5)),-8.5
airguard.velocity	= (ifelse(p2dist x > 0,-1.5,1.5)),-8.5
ground.cornerpush.veloff = 0
fall			= 1
fall.recover	= 0
id			= 9060
guard.kill		= 0
getpower		= 0
givepower		= 20
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -7
persistent		= 0

[state 9060:	hitdef]
type			= hitdef
trigger1		= (!movecontact) && (parent, stateno = 3010)
attr			= s, hp
hitflag		= mafdp
guarDFlag		= m
animtype		= Diagup
priority		= 7, hit
damage		= 75,12
pausetime		= 0,20
guard.pausetime	= 0,20
sparkno		= s9010
guard.sparkno	= -1
sparkxy		= 10,0
hitsound		= s0,9
guardsound		= s0,9
ground.type		= trip
air.type		= trip
ground.slidetime	= 25
ground.hittime	= 25
air.hittime		= 25
ground.velocity	= -3,-11
guard.velocity	= -10
air.velocity	= -3,-11
airguard.velocity	= -3,-11
ground.cornerpush.veloff = 0
yaccel		= 0.35
fall			= 1
fall.recover	= 0
down.bounce		= 1
id			= 9060
kill			= 0
guard.kill		= 0
getpower		= 0
givepower		= 50
envshake.time 	= 20
envshake.freq 	= 120
envshake.ampl 	= -6
persistent		= 0

[state 9060:	destroyself]
type			= Destroyself
trigger1		= (!animtime) || (parent, movetype = h)

;---------------------------------------------------------------------------
;small projectile
[statedef 9070]
type 			= s
movetype		= i
physics		= n
anim			= 9070
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[state 9070:	assertspecial]
type			= assertspecial
trigger1		= 1
flag			= invisible
flag2			= noshadow

[state 9070:	nothitby]
type			= nothitby
trigger1		= 1
value			= sca

[state 9070:	playerpush]
type			= playerpush
trigger1		= 1
value			= 0

[state 9070:	makedust]
type			= makedust
trigger1		= (vel y = 0)
pos 			= 0,60
spacing 		= 2

[state 9070:	envshake]
type			= envshake
trigger1		= (pos y >= 0)
time			= 12
freq			= 120
ampl			= -4
phase			= 90

[state 9070:	velset]
type			= velset
trigger1		= (!time)
x			= 14
y			= (ifelse((parent,command = "holdup"),-6.666666,(ifelse((parent,command = "holddown"),6.666666,0))))

[state 9070:	velmul]
type			= velmul
trigger1		= (time > 0)
x			= 1.1
y			= 1.1

[state 9070:	afterimage]
type			= afterimage
trigger1		= (!time)
time 			= 10
timegap		= 2
framegap 		= 3
length 		= 10
paladd 		= 50, 50, 50
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add

[state 9070:	helper]
type			= helper
trigger1		= (pos y >= 0)
helpertype		= normal
name			= "rock000"
id			= 9080
pos			= 0,0
;postype		= p1
facing		= 1
stateno		= 9080
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale		= 0.5
size.yscale		= 0.5

[state 9070:	helper]
type			= helper
trigger1		= (pos y >= 0)
helpertype		= normal
name			= "rock001"
id			= 9090
pos			= 0,0
;postype		= p1
facing		= 1
stateno		= 9090
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale		= 0.5
size.yscale		= 0.5

[state 9070:	helper]
type			= helper
trigger1		= (pos y >= 0)
helpertype		= normal
name			= "rock002"
id			= 9100
pos			= 0,0
;postype		= p1
facing		= 1
stateno		= 9100
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale		= 0.5
size.yscale		= 0.5

[state 9070:	destroyself]
type			= Destroyself
trigger1 		= (parent, numprojid(9070) = 0)

;---------------------------------------------------------------------------
;debris000
[statedef 9080]
type 			= s
movetype		= i
physics		= n
anim			= 9080
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[state 9080:	sprpriority]
type			= sprpriority
trigger1		= (!time)
value			= (ifelse(random <= 499,3,-3))

[state 9080:	nothitby]
type			= nothitby
trigger1		= 1
value			= sca

[state 9080:	playerpush]
type			= playerpush
trigger1		= 1
value			= 0

[state 9080:	makedust]
type			= makedust
trigger1		= (pos y >= 1) && (time > 10)
pos 			= 5,0
pos2			= -5,0
spacing 		= 2
persistent		= 0

[state 9080:	veladd]
type			= veladd
trigger1		= (time > 10)
y			= (ifelse(random <= 499,0.40,0.35))

[state 9080:	velset]
type			= velset
trigger1		= (!time)
x			= (ifelse(random <= 499,3,-3))
y			= (ifelse(random <= 499,-8,-4))

[state 9080:	velset]
type			= velset
trigger1		= (pos y >= 1) && (time > 10)
x			= 0
y			= 0

[state 9080:	afterimage]
type			= afterimage
trigger1 		= (!time)
time 			= 15
timegap		= 1
framegap 		= 2
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add

[state 9080:	destroyself]
type			= Destroyself
trigger1		= (!animtime)

;---------------------------------------------------------------------------
;debris001
[statedef 9090]
type 			= s
movetype		= i
physics		= n
anim			= 9090
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[state 9090:	sprpriority]
type			= sprpriority
trigger1		= (!time)
value			= (ifelse(random <= 499,3,-3))

[state 9090:	nothitby]
type			= nothitby
trigger1		= 1
value			= sca

[state 9090:	playerpush]
type			= playerpush
trigger1		= 1
value			= 0

[state 9090:	makedust]
type			= makedust
trigger1		= (pos y >= 1) && (time > 10)
pos 			= 5,0
pos2			= -5,0
spacing 		= 2
persistent		= 0

[state 9090:	veladd]
type			= veladd
trigger1		= (time > 10)
y			= (ifelse(random <= 499,0.40,0.35))

[state 9090:	velset]
type			= velset
trigger1		= (!time)
x			= (ifelse(random <= 499,2,-5))
y			= (ifelse(random <= 499,-10,-5))

[state 9090:	velset]
type			= velset
trigger1		= (pos y >= 1) && (time > 10)
x			= 0
y			= 0

[state 9090:	afterimage]
type			= afterimage
trigger1 		= (!time)
time 			= 15
timegap		= 1
framegap 		= 2
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add

[state 9090:	destroyself]
type			= Destroyself
trigger1		= (!animtime)

;---------------------------------------------------------------------------
;debris002
[statedef 9100]
type 			= s
movetype		= i
physics		= n
anim			= 9100
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[state 9100:	sprpriority]
type			= sprpriority
trigger1		= (!time)
value			= (ifelse(random <= 499,3,-3))

[state 9100:	nothitby]
type			= nothitby
trigger1		= 1
value			= sca

[state 9100:	playerpush]
type			= playerpush
trigger1		= 1
value			= 0

[state 9100:	makedust]
type			= makedust
trigger1		= (pos y >= 1) && (time > 10)
pos 			= 5,0
pos2			= -5,0
spacing 		= 2
persistent		= 0

[state 9100:	veladd]
type			= veladd
trigger1		= (time > 10)
y			= (ifelse(random <= 499,0.40,0.35))

[state 9100:	velset]
type			= velset
trigger1		= (!time)
x			= (ifelse(random <= 499,4,-5))
y			= (ifelse(random <= 499,-6,-3))

[state 9100:	velset]
type			= velset
trigger1		= (pos y >= 1) && (time > 10)
x			= 0
y			= 0

[state 9100:	afterimage]
type			= afterimage
trigger1 		= (!time)
time 			= 15
timegap		= 1
framegap 		= 2
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add

[state 9100:	destroyself]
type			= Destroyself
trigger1		= (!animtime)


;---------------------------------------------------------------------------
;kienzan: Disc
[statedef 9150]
type 			= a
movetype		= a
physics		= n
anim			= 9150
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3

[state 9150:	assertspecial]
type			= assertspecial
trigger1		= 1
flag			= noshadow

[state 9150:	nothitby]
type			= nothitby
trigger1		= 1
value			= sca

[state 9150:	turn]
type			= turn
trigger1		= (p2dist x < 10) && (time > 15)

[state 9150:	varset]
type			= varset
trigger1		= (!time)
var(0)		= 0

[state 9150:	varadd]
type			= varadd
trigger1		= (var(0) = 0) && (movehit)
var(0)		= 1
ignorehitpause	= 1
persistent		= 0

[state 9150:	varadd]
type			= varadd
trigger1		= (var(0) = [1,30])
var(0)		= 1

[state 9150:	varadd]
type			= varadd
trigger1		= (var(0) = 31) && (hitcount = 2)
var(0)		= 1

[state 9150:	velset]
type			= velset
trigger1		= (parent, animelem = 3) && (parent, name = "android no. 18 by orestes")
x			= 15

[state 9150:	velset]
type			= velset
trigger1		= (!time) && (parent, ishelper)
x			= (parent, vel x)
y			= (parent, vel y*(-1))

[state 9150:	veladd]
type			= veladd
trigger1		= (p2dist x < 0) && (vel x > -12) && (parent, stateno != 1100)
x			= -0.2

[state 9150:	veladd]
type			= veladd
trigger1		= (p2dist x > 0) && (vel x < 12) && (parent, stateno != 1100)
x			= 0.2

[state 9150:	veladd]
type			= veladd
trigger1		= (enemynear, pos y > pos y) && (vel y < 8) && (parent, stateno != 1100)
y			= 0.2

[state 9150:	veladd]
type			= veladd
trigger1		= (enemynear, pos y <= pos y) && (vel y > -8) && (parent, stateno != 1100)
y			= -0.2

[state 9150:	bgpalfx]
type			= bgpalfx
trigger1		= (var(0) = 32) || (moveguarded)
time			= 5
add			= 75,75,75
mul			= 256,256,256
sinadd		= 80,80,80,4
invertall		= 0
color			= 256
persistent		= 0
ignorehitpause	= 1

[state 9150: 	afterimage]
type 			= afterimage
trigger1 		= ((gametime%5) = 0)
time 			= 5
timegap		= 1
framegap 		= 2
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 100, 100, 100
trans 		= add

[state 9150:	explod]
type			= explod
trigger1		= (var(0) = 32) || (moveguarded)
anim			= 9030
id			= 9030
pos			= 0,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[state 9150:	hitdef]
type			= hitdef
trigger1		= (var(0) = 0)
attr			= s, sp
hitflag		= mafdp
guarDFlag		= ma
animtype		= hard
priority		= 7, hit
damage		= 40,10
pausetime		= 0,12
guard.pausetime	= 0,20
sparkno		= -1
guard.sparkno	= -1
sparkxy		= 0,0
hitsound		= s4,4
guardsound		= s0,9
ground.type		= high
air.type		= trip
ground.slidetime	= 25
ground.hittime	= 25
air.hittime		= 25
ground.velocity	= -5
guard.velocity	= -5
air.velocity	= -5,-3.5
airguard.velocity	= -5,-3.5
ground.cornerpush.veloff = 0
fall.recover	= 0
air.fall		= 1
down.velocity	= -1,-2
down.bounce		= 1
id			= 9150
getpower		= 0
givepower		= 25
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4
persistent		= 0

[state 9150:	hitdef]
type			= hitdef
trigger1		= (var(0) = 31)
attr			= s, sp
hitflag		= mafdp
guarDFlag		= ma
animtype		= hard
priority		= 7, hit
damage		= 40,10
pausetime		= 0,12
guard.pausetime	= 0,20
sparkno		= -1
guard.sparkno	= -1
sparkxy		= 0,0
hitsound		= s0,5
guardsound		= s0,9
ground.type		= trip
air.type		= trip
ground.slidetime	= 25
ground.hittime	= 25
air.hittime		= 25
ground.velocity	= -5,-3.5
guard.velocity	= -5
air.velocity	= -5,-3.5
airguard.velocity	= -5,-3.5
ground.cornerpush.veloff = 0
fall.recover	= 0
air.fall		= 1
down.velocity	= -1,-2
down.bounce		= 1
id			= 9150
getpower		= 0
givepower		= 25
palfx.time		= 12
palfx.mul		= 256,256,256
palfx.add		= 200,50,10
palfx.sinadd	= 175,25,5,4
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4
persistent		= 0

[state 9150:	destroyself]
type			= Destroyself
trigger1		= (var(0) = 32) || (moveguarded) || (time > 300)

;---------------------------------------------------------------------------
;projectile smoke
;[statedef 9160]

;---------------------------------------------------------------------------
;large projectile: straight
[statedef 9170]
type 			= a
movetype		= a
physics		= n
anim			= 9170
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3

[state 9170:	nothitby]
type			= nothitby
trigger1		= 1
value			= sca

[state 9170:	velset]
type			= velset
trigger1		= (!time)
x			= 10
y			= 0

[state 9170:	velmul]
type			= velmul
trigger1		= 1
x			= 1.1

[state 9170:	palfx]
type			= palfx
trigger1		= (!time)
time			= 40
add			= 100,100,100
mul			= 256,256,256
sinadd		= -100,-100,-100,40
invertall		= 0
color			= 256

[state 9170:	bgpalfx]
type			= bgpalfx
trigger1		= (movehit)
time			= 5
add			= 75,75,75
mul			= 256,256,256
sinadd		= 80,80,80,4
invertall		= 0
color			= 256
persistent		= 0
ignorehitpause	= 1

[state 9170: 	afterimage]
type 			= afterimage
trigger1 		= (!time)
time 			= 20
framegap 		= 2
length 		= 15
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 100, 100, 100
trans 		= add

[state 9170:	explod]
type			= explod
trigger1		= (pos y >= 1)
anim			= 9030
id			= 9030
pos			= 0,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[state 9170:	explod]
type			= explod
trigger1		= (movecontact)
anim			= 9160
id			= 9160
pos			= 0,-25
postype		= p2
facing		= 1
vfacing		= 1
bindtime		= 30
vel			= 0,-0.5
accel			= 0,0
random		= 10,10
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.5,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
ignorehitpause	= 1

[state 9170:	hitdef]
type			= hitdef
trigger1		= 1
attr			= s, sp
hitflag		= mafdp
guarDFlag		= m
animtype		= hard
priority		= 7, hit
damage		= 80,20
pausetime		= 12,12
guard.pausetime	= 15,20
sparkno		= s9030
guard.sparkno	= s9030
sparkxy		= 0,0
hitsound		= s0,5
guardsound		= s0,9
ground.type		= trip
air.type		= trip
ground.slidetime	= 25
ground.hittime	= 25
air.hittime		= 25
ground.velocity	= -8,-3.5
guard.velocity	= -8
air.velocity	= -8,-3.5
airguard.velocity	= -8,-3.5
ground.cornerpush.veloff = 0
fall.recover	= 0
air.fall		= 1
down.velocity	= -1,-2
down.bounce		= 1
id			= 9130
getpower		= 0
givepower		= 25
palfx.time		= 12
palfx.mul		= 256,256,256
palfx.add		= 200,50,10
palfx.sinadd	= 175,25,5,4
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4
persistent		= 0

[state 9170:	destroyself]
type			= Destroyself
trigger1		= (movecontact) || (frontedgebodydist < -10)
ignorehitpause	= 1

;---------------------------------------------------------------------------
;ki wave: projectile
[statedef 9180]
type 			= a
movetype		= a
physics		= n
anim			= 9180
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3

[state 9180:	assertspecial]
type			= assertspecial
trigger1		= (parent, var(7) > 600)
flag			= Unguardable

[state 9180:	nothitby]
type			= nothitby
trigger1		= 1
value			= sca

[state 9180:	playerpush]
type			= playerpush
trigger1		= 1
value			= 0

[state 9180:	bgpalfx]
type			= bgpalfx
trigger1		= (time < 25) && ((gametime%2) = 0)
time			= 1
add			= (200-time*3),(200-time*3),(255-time*3)
mul			= 256,256,256
;sinadd		= 256,256,256,0
invertall		= 1
color			= 256

[state 9180:	explod]
type			= explod
trigger1		= (movecontact) && ((gametime%4) = 0)
anim			= 9010
id			= 9010
pos			= 0,-40
postype		= p2
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 30,40
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 4
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
ignorehitpause	= 1

[state 9180:	explod]
type			= explod
trigger1		= (movecontact)
anim			= 9160
id			= 9160
pos			= 0,-25
postype		= p2
facing		= 1
vfacing		= 1
bindtime		= 30
vel			= 0,-0.5
accel			= 0,0
random		= 10,10
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.5,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[state 9180:	explod]
type			= explod
trigger1		= (movecontact)
anim			= 9220
id			= 9220
pos			= 0,-30
postype		= p2
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[state 9180:	afterimage]
type			= afterimage
trigger1 		= (!time)
time 			= 40
timegap		= 2
framegap 		= 3
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 100,100,100
trans 		= add

[state 9180:	hitdef]
type			= hitdef
trigger1		= (!movecontact)
attr			= s, hp
hitflag		= mafdp
guarDFlag		= m
animtype		= hard
priority		= 7, hit
damage		= (parent, var(7)),(parent, var(7)/3)
pausetime		= 0,12
guard.pausetime	= 0,20
sparkno		= -1
guard.sparkno	= -1
sparkxy		= 0,0
hitsound		= s0,5
guardsound		= s0,9
ground.type		= trip
air.type		= trip
ground.slidetime	= 25
ground.hittime	= 25
air.hittime		= 25
yaccel		= 0.35
ground.velocity	= -25,-3
guard.velocity	= -8
air.velocity	= -25,-3
airguard.velocity	= -25,-3
ground.cornerpush.veloff = 0
fall			= 1
fall.recover	= 0
id			= 9180
getpower		= 0
givepower		= 50
palfx.time		= 40
palfx.mul		= 256,256,256
palfx.add		= 200,200,255
palfx.sinadd	= -100,-100,-155,40
envshake.time 	= 30
envshake.freq 	= 120
envshake.ampl 	= -8
persistent		= 0

[state 9180:	destroyself]
type			= Destroyself
trigger1		= (!animtime) || (parent, stateno != 3015)

;---------------------------------------------------------------------------
;ki wave: projectile Up
[statedef 9181]
type 			= a
movetype		= a
physics		= n
anim			= 9181
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3

[state 9181:	assertspecial]
type			= assertspecial
trigger1		= (parent, var(7) > 600)
flag			= Unguardable

[state 9181:	nothitby]
type			= nothitby
trigger1		= 1
value			= sca

[state 9181:	playerpush]
type			= playerpush
trigger1		= 1
value			= 0

[state 9181:	bgpalfx]
type			= bgpalfx
trigger1		= (time < 25) && ((gametime%2) = 0)
time			= 1
add			= (200-time*3),(200-time*3),(255-time*3)
mul			= 256,256,256
;sinadd		= 256,256,256,0
invertall		= 1
color			= 256

[state 9181:	explod]
type			= explod
trigger1		= (movecontact) && ((gametime%4) = 0)
anim			= 9010
id			= 9010
pos			= 0,-40
postype		= p2
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 30,40
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 4
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
ignorehitpause	= 1

[state 9181:	explod]
type			= explod
trigger1		= (movecontact)
anim			= 9160
id			= 9160
pos			= 0,-25
postype		= p2
facing		= 1
vfacing		= 1
bindtime		= 30
vel			= 0,-0.5
accel			= 0,0
random		= 10,10
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.5,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[state 9181:	explod]
type			= explod
trigger1		= (movecontact)
anim			= 9220
id			= 9220
pos			= 0,-30
postype		= p2
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[state 9181:	afterimage]
type			= afterimage
trigger1 		= (!time)
time 			= 40
timegap		= 2
framegap 		= 3
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 100,100,100
trans 		= add

[state 9181:	hitdef]
type			= hitdef
trigger1		= (!movecontact)
attr			= s, hp
hitflag		= mafdp
guarDFlag		= m
animtype		= hard
priority		= 7, hit
damage		= (parent, var(7)),(parent, var(7)/3)
pausetime		= 0,12
guard.pausetime	= 0,20
sparkno		= -1
guard.sparkno	= -1
sparkxy		= 0,0
hitsound		= s0,5
guardsound		= s0,9
ground.type		= trip
air.type		= trip
ground.slidetime	= 25
ground.hittime	= 25
air.hittime		= 25
yaccel		= 0.35
ground.velocity	= -15,-13
guard.velocity	= -8
air.velocity	= -15,-13
airguard.velocity	= -15,-13
ground.cornerpush.veloff = 0
fall			= 1
fall.recover	= 0
id			= 9181
getpower		= 0
givepower		= 50
palfx.time		= 40
palfx.mul		= 256,256,256
palfx.add		= 200,200,255
palfx.sinadd	= -100,-100,-155,40
envshake.time 	= 30
envshake.freq 	= 120
envshake.ampl 	= -8
persistent		= 0

[state 9181:	destroyself]
type			= Destroyself
trigger1		= (!animtime) || (parent, stateno != 3016)

;---------------------------------------------------------------------------
;superpause
[statedef 9190]
type 			= s
movetype		= i
physics		= n
anim			= 9190
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3

[state 9190:	assertspecial]
type			= assertspecial
trigger1		= 1
flag			= globalnoshadow
flag2			= nobardisplay

[state 9190:	assertspecial]
type			= assertspecial
trigger1		= 1
flag			= nomusic
flag2			= nofg

[state 9190:	nothitby]
type			= nothitby
trigger1		= 1
value			= sca

[state 9190:	playerpush]
type			= playerpush
trigger1		= 1
value			= 0

[state 9190:	bindtoparent]
type			= bindtoparent
trigger1		= 1
time			= 1
pos			= 12,-54

[state 9190: 	afterimage]
type 			= afterimage
trigger1		= (!time)
time 			= 25
timegap		= 4
framegap 		= 1
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add

[state 9190:	bgpalfx]
type			= bgpalfx
trigger1		= (!time)
time			= 50
add			= -100,-100,-100
mul			= 256,256,256
sinadd		= 100,100,100,50
invertall		= 1
color			= 256

[state 9190:	explod]
type			= explod
trigger1		= (!time)
anim			= 9191
id			= 9191
pos			= 0,0
postype		= back
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= -14,0
accel			= 0,0
random		= 0,0
removetime		= 50
supermove		= 1
supermovetime	= 50
pausemovetime	= 0
scale			= 1,1.1
sprpriority		= -3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[state 9190:	explod]
type			= explod
trigger1		= (!time)
anim			= 9191
id			= 9191
pos			= -20,53
postype		= back
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= -14,0
accel			= 0,0
random		= 0,0
removetime		= 50
supermove		= 1
supermovetime	= 50
pausemovetime	= 0
scale			= 1,1.1
sprpriority		= -3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[state 9190:	explod]
type			= explod
trigger1		= (!time)
anim			= 9191
id			= 9191
pos			= -10,106
postype		= back
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= -14,0
accel			= 0,0
random		= 0,0
removetime		= 50
supermove		= 1
supermovetime	= 50
pausemovetime	= 0
scale			= 1,1.1
sprpriority		= -3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[state 9190:	explod]
type			= explod
trigger1		= (!time)
anim			= 9191
id			= 9191
pos			= -10,158
postype		= back
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= -14,0
accel			= 0,0
random		= 0,0
removetime		= 50
supermove		= 1
supermovetime	= 50
pausemovetime	= 0
scale			= 1,1.1
sprpriority		= -3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[state 9190:	explod]
type			= explod
trigger1		= (!time)
anim			= 9191
id			= 9191
pos			= 0,210
postype		= back
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= -14,0
accel			= 0,0
random		= 0,0
removetime		= 50
supermove		= 1
supermovetime	= 50
pausemovetime	= 0
scale			= 1,1.1
sprpriority		= -3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[state 9190:	destroyself]
type			= Destroyself
trigger1		= (!animtime)

;---------------------------------------------------------------------------
;super Force
[statedef 9270]
type 			= s
movetype		= i
physics		= n
anim			= 9270
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[state 11000:	assertspecial]
type			= assertspecial
trigger1		= 1
flag			= noshadow
flag2			= invisible

[state 9270:	bindtoparent]
type			= bindtoparent
trigger1		= 1
time			= 1
pos			= -20,-52

[state 9270:	varset]
type			= varset
trigger1		= (!time)
var(0)		= 35

[state 9270:	varset]
type			= varset
trigger1		= (var(0) = 35)
var(1)		= 0

[state 9270:	varset]
type			= varset
trigger1		= (var(0) = 150)
var(1)		= 1

[state 9270:	varadd]
type			= varadd
trigger1		= 1
var(0)		= ifelse(var(1) = 0,5,-5)

[state 9270:	varset]
type			= varset
trigger1		= (!time)
var(2)		= (parent, stateno)

[state 9270:	afterimage]
type 			= afterimage
trigger1 		= 1
time 			= 5
framegap 		= 1
length 		= 2
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= var(0), var(0), var(0)
trans 		= add

[state 9270:	destroyself]
type			= Destroyself
trigger1		= (parent, stateno != var(2)) || (!animtime)

;---------------------------------------------------------------------------
;big electric spark a
[statedef 9350]
type    = a
movetype= a
physics = n
ctrl = 0
velset = 0,0,0
anim = 9350

[state 1010, 01]
type = sprpriority
trigger1 = time >= 0
value = 3

[state 3710, 1]
type = palfx
trigger1 = time = 0
time = 9999
add = -50,-50,0
sinadd = -40,-40,-40, 5

[state 3700, shadows]
type = afterimage
trigger1 = time = 0
time = 9999
length = 4
palbright   =   0,  0,  0
palcontrast = 18,48,258
palmul      =  .8,.8,.8
framegap = 1
trans = add

[state 1010,nothitby]
type = nothitby
trigger1 = time >= 0
value = sca
time = 9999

[state 3700, Dissipate]
type = Destroyself
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;big electric spark b
[statedef 9351]
type    = a
movetype= a
physics = n
ctrl = 0
velset = 0,0,0
anim = 9350

[state 1010, 01]
type = sprpriority
trigger1 = time >= 0
value = 3

[state 3710, 1]
type = palfx
trigger1 = time = 0
time = 9999
add = -50,-50,0
sinadd = -40,-40,-40, 5

[state 3700, shadows]
type = afterimage
trigger1 = time = 0
time = 9999
length = 4
palbright   =   0,  0,  0
palcontrast = 18,48,258
palmul      =  .8,.8,.8
framegap = 1
trans = add

[state 1010,nothitby]
type = nothitby
trigger1 = time >= 0
value = sca
time = 9999

[state 3700, Dissipate]
type = Destroyself
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;big electric spark c
[statedef 9352]
type    = a
movetype= a
physics = n
ctrl = 0
velset = 0,0,0
anim = 9350

[state 1010, 01]
type = sprpriority
trigger1 = time >= 0
value = 3

[state 3710, 1]
type = palfx
trigger1 = time = 0
time = 9999
add = -50,-50,0
sinadd = -40,-40,-40, 5

[state 3700, shadows]
type = afterimage
trigger1 = time = 0
time = 9999
length = 4
palbright   =   0,  0,  0
palcontrast = 18,48,258
palmul      =  .8,.8,.8
framegap = 1
trans = add

[state 1010,nothitby]
type = nothitby
trigger1 = time >= 0
value = sca
time = 9999

[state 3700, Dissipate]
type = Destroyself
trigger1 = animtime = 0

;--------------------------------------------------------------------------------------------------------------------------
;deep impact: blast
[statedef 9700]
type    = s
movetype= a
physics = n
ctrl = 0
anim = 9700
velset = 5,5
sprpriority = 5
juggle = 0

[state 181, randomizer]
type = varrandom
trigger1 = 1
v = 51
range = -1,-3

[state 1500, 0]
type = varadd
trigger1 = time = 0
persistent = 1
v = 54
value = 1

[state 1000, Fireb]
type = explod
trigger1 = vel x != 0 && random <= 500
persistent = 1
anim = 9350
id = 12213
postype = p1
pos = -20,-17
random = 20,20
sprpriority = 5
ownpal = 1
vel = var(51),var(51)

[state 1000, Fireb]
type = explod
trigger1 = vel x != 0 && random <= 500
persistent = 1
anim = 9900
id = 12213
postype = p1
pos = -20,-17
random = 20,20
sprpriority = 5
ownpal = 1
vel = var(51),var(51)

[state 181, randomizer]
type = varrandom
trigger1 = 1
v = 53
range = -5,-2

[state 181, randomizer]
type = varrandom
trigger1 = 1
v = 52
range = 3, 9

[state 1000, 5]
type = hitdef
trigger1 = var(54) < 10
attr = s, sp
damage    = 25,6;/(parent, var(22)),10
animtype  = hard
hitflag = mafd
guarDFlag = ha
pausetime = 0,10
guard.sparkno = s9900
guardsound = s0,9
ground.type = high
getpower = 0
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -2,-5
air.type = low
air.velocity = -2,-5
forcestand = 1
palfx.time = 80
palfx.add = 32,0,0
palfx.mul = 300,192,192
palfx.sinadd = 64, 5, 5, 6
pausemovetime = 99
supermovetime = 99
fall = 1
down.velocity = 0,0
air.hittime = 35
recover=  0
air.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[state 1000, 5]
type = hitdef
trigger1 = var(54) >= 10
attr = s, sp
damage    = 25,6;/(parent, var(22)),10
animtype  = hard
hitflag = mafd
guarDFlag = ha
pausetime = 0,10
getpower = 0
guard.sparkno = s9900
guardsound = s0,9
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -6,-5
air.type = low
air.velocity = -6,-5
forcestand = 1
palfx.time = 80
palfx.add = 32,0,0
palfx.mul = 300,192,192
palfx.sinadd = 64, 5, 5, 6
pausemovetime = 99
supermovetime = 99
fall = 1
down.velocity = 0,0
air.hittime = 35
recover=  0
air.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[state 1006, helper hits count too]
type = parentvarset
trigger1 = Uniqhitcount != var(20)
v = 19
value = 1

[state 1006, helper hits count too]
type = varset
trigger1 = Uniqhitcount != var(20)
v = 20
value = Uniqhitcount

[state 3710, 1]
type = palfx
trigger1 = time = 0
time = 9999
add = 130,-70,-70
sinadd = 48,48,40,120

[state 3700, shadows]
type = afterimage
trigger1 = time = 0
time = 9999
length = 4
palbright   =   0,  0,  0
palcontrast = 258,48,18
palmul      =  0.5,0.5,0.5
framegap = 1
trans = add

[state 3450, spark] 
type = explod
trigger1 = movehit
persistent = 0
ignorehitpause = 1
anim = 9350
pos = 0,-50
sprpriority = -1
postype = p2
supermove = 1
bindtime = 1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5,5
scale = 0.7,0.7

[state 1500, 0]
type = varset
trigger1 = time = 0
persistent = 0
v = 4
value = 1

[state 1500, 0]
type = varadd
trigger1 = moveguarded
persistent = 1
v = 4
value = 1

[state 11001, playsnd]
type = playsnd
trigger1 = (enemynear, stateno = [5000,5999])
trigger1 = p2movetype = h
trigger1 = movecontact
value = 2,3
persistent = 0
ignorehitpause = 1
 
[state 11001, nothitby]
type = nothitby
trigger1 = time >= 0
time = 1
value = sca, na, sa, ha, nt, st, ht
ignorehitpause = 1

[state 11001, hitby]
type = hitby
trigger1 = time >= 0
value = sca, np, sp, hp
time = 1
ignorehitpause = 1

[state 3450, spark] 
type = explod
triggerall = (enemynear, stateno = [5000,5999])
triggerall = p2movetype = h
trigger1 = projhit = 1
trigger2 = movehit
persistent = 0
ignorehitpause = 1
anim = 9350
pos = 0,-50
sprpriority = -1
postype = p2
supermove = 1
bindtime = 1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5,5
scale = 0.7,0.7

[state 1700, blast hit helper]
type = helper
trigger1 = pos y >= 2
helpertype = normal
name = "blast"
id = 3
postype = p1
stateno =9800
ownpal = 1
size.xscale = 1
size.yscale = 1

[state 3700, Dissipate]
type = Destroyself
trigger1 = pos y >= 2

;--------------------------------------------------------------------------------------------------------------------------
;deep impact: blast hit
[statedef 9800]
type    = s
movetype= a
physics = n
ctrl = 0
anim = 9800
velset = 0,0
sprpriority = 5

[state 11001, playsnd]
type = playsnd
trigger1 = time = 0
value = 1,0
persistent = 0
freqmul = 1.2
ignorehitpause = 1
volume = -50

[state 11001, playsnd]
type = playsnd
trigger1 = time = 0
value = 0,5

[state 181, randomizer]
type = varrandom
trigger1 = 1
v = 52
range = -9, 9

[state 3700, shadows]
type = afterimage
trigger1 = time = 0
time = 9999
length = 4
palbright   =   0,  0,  0
palcontrast = 258,48,18
palmul      =  0.5,0.5,0.5
framegap = 1
trans = add

[state 1002, charge sound]
type = playsnd
trigger1 = time = 0
value = 0,8
freqmul = 0.6

[state 1002, charge sound]
type = playsnd
trigger1 = time = 0
value = 0,4

[state 181, randomizer]
type = varrandom
trigger1 = 1
v = 53
range = -9, 9

[state 1000, Fireb]
type = explod
trigger1 = time < 4
persistent = 1
anim = 9500
id = 12213
postype = p1
pos = -10,-13
random = 5,10
sprpriority = 5
ownpal = 1
vel = var(52),(var(53))
;scale = 0.2,1.5
accel = 1/2*(var(52)),1/2*(var(53))
ignorehitpause = 1
pausemovetime = 9999

[state 1000, Fireb]
type = explod
trigger1 = time < 4
persistent = 1
anim = 9500
id = 12212
postype = p1
pos = -10,-13
random = 5,10
sprpriority = 5
ownpal = 1
vel = var(52),(var(53))
;scale = 0.2,1.5
accel = 1/2*(var(52)),1/2*(var(53))
ignorehitpause = 1
pausemovetime = 9999

[state 1000, Fireb]
type = explod
trigger1 = time < 4
persistent = 1
anim = 9900
id = 12212
postype = p1
pos = -10,-13
random = 5,10
sprpriority = 5
ownpal = 1
vel = var(53),(var(52))
;scale = 0.2,1.5
accel = 1/2*(var(53)),1/2*(var(52))
ignorehitpause = 1
pausemovetime = 9999

[state 1000, Fireb]
type = explod
trigger1 = time < 4
persistent = 1
anim = 9900
id = 12212
postype = p1
pos = -10,-13
random = 5,10
sprpriority = 5
ownpal = 1
vel = var(53),(var(52))
;scale = 0.2,1.5
accel = 1/2*(var(53)),1/2*(var(52))
ignorehitpause = 1
pausemovetime = 9999

[state 3700, Dissipate]
type = Destroyself
trigger1 = time = 24
